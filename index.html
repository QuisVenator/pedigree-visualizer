<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="app_title">HoF Pedigree App</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="sidebar">
    <h2>Horse Pedigree</h2>
    <div id="selected-horse-panel" class="stat-box" style="display:none;">
        <div style="display:flex; align-items:center; gap:10px;">
            <h3 id="panel-name" style="margin:0;">Pferd Name</h3>
            <button onclick="editName()" style="padding:2px 8px; font-size:12px; background:#6c757d;">âœï¸</button>
        </div>
        <p><strong>HoF Status:</strong> <span id="panel-status">No</span></p>
        <p><strong>HoF Genetik:</strong> <span id="panel-score">0%</span></p>
        <hr>
        <button id="btn-toggle-hof">Hall of Fame umschalten</button>
        <div style="margin-top:10px; display:flex; gap:5px;">
            <button id="btn-add-sire" class="secondary">Vatertier HinzufÃ¼gen</button>
            <button id="btn-add-dam" class="secondary">Muttertier HinzufÃ¼gen</button>
        </div>
        <div style="margin-top:10px; display:flex; gap:5px;">
            <button id="btn-remove-sire" class="remove">Vatertier LÃ¶schen</button>
            <button id="btn-remove-dam" class="remove">Muttertier LÃ¶schen</button>
        </div>
        <hr>
        <hr>
        <div id="link-existing-panel" style="display:none; margin-top:10px;">
            
            <div style="margin-bottom:15px;">
                <label style="font-size:12px; font-weight:bold; color:#555;">Bekanntes Vatertier:</label>
                <div style="display:flex; gap:5px;">
                    <select id="existing-sire-select" style="flex-grow:1;"></select>
                    <button onclick="linkExisting('Vatertier')" style="background:#6f42c1; padding:5px 10px;">Link</button>
                </div>
            </div>

            <div>
                <label style="font-size:12px; font-weight:bold; color:#555;">Bekanntes Muttertier:</label>
                <div style="display:flex; gap:5px;">
                    <select id="existing-dam-select" style="flex-grow:1;"></select>
                    <button onclick="linkExisting('Muttertier')" style="background:#e83e8c; padding:5px 10px;">Link</button>
                </div>
            </div>

</div>
    </div>
    <div id="empty-state" class="stat-box">
        <p>Pferd auswÃ¤hlen um zu bearbeiten oder Eltern einzutragen.</p>
    </div>
    <hr>
    <h3>Daten</h3>
    <div style="display:flex; gap:5px; flex-direction:column;">
        <button onclick="exportData()" style="background:#28a745;">ğŸ’¾ Kopie Speichern</button>
        <button onclick="document.getElementById('file-input').click()" style="background:#17a2b8;">ğŸ“‚ Daten Laden</button>
        <input type="file" id="file-input" style="display:none;" onchange="importData(this)">
    </div>
    <button onclick="resetData()" style="background:#dc3545; margin-top:5px;">ğŸ—‘ï¸ ZurÃ¼cksetzen</button>
</div>

<div id="graph-container"></div>

<script src="script.js"></script>
</body>
</html>